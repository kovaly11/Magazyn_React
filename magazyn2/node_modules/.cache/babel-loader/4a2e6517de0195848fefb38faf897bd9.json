{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\48883\\\\IdeaProjects\\\\magazyn2\\\\src\\\\Components\\\\Magazyn\\\\MagazynCud.js\";\nimport React, { Component } from 'react';\nimport { Button, Form } from \"react-bootstrap\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass MagazynCud extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      adres: [],\n      stan: [],\n      mag: {}\n    };\n  }\n\n  dateClick(typ) {\n    var bodyFormData = new FormData();\n    bodyFormData.append('idPrac', localStorage.getItem('loginfo'));\n    bodyFormData.append('rod', 'magazyn');\n    bodyFormData.append('idRod', this.props.id);\n    bodyFormData.append('typ', typ);\n    bodyFormData.append('dat', new Date().toLocaleString());\n    axios({\n      method: 'post',\n      url: 'http://localhost:8081/history/add',\n      data: bodyFormData\n    }).then(response => {\n      this.setState({\n        doks: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    axios({\n      method: 'get',\n      url: `http://localhost:8081/mag/${this.props.id}`\n    }).then(response => {\n      this.setState({\n        mag: response.data\n      });\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    axios({\n      method: 'get',\n      url: `http://localhost:8081/adres/all`\n    }).then(response => {\n      this.setState({\n        adres: response.data\n      });\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    axios({\n      method: 'get',\n      url: `http://localhost:8081/stanmag/all`\n    }).then(response => {\n      this.setState({\n        stan: response.data\n      });\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    if (this.props.typ === \"details\") return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-light\",\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \" Towar \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \" Numer serijny\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \" Ilosc \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), this.state.stan.map(element => this.props.id === element.idMag ? /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-light\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.tow.ntow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.serTow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.ilTow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }, this) : '')]\n    }, void 0, true);else if (this.props.typ === \"add\") return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"bg-light\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          placeholder: \"Nazwa\",\n          name: \"nMag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"select\",\n          name: \"idAd\",\n          children: this.state.adres.map(element => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: element.idAd,\n            children: [element.ulica, \" \", element.bud, \" \", element.mej, \" \", element.kraj]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          placeholder: \"Kierownik magazynu\",\n          name: \"kMag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          placeholder: \"Telefon\",\n          name: \"tMag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-info\",\n          type: \"submit\",\n          className: \"magcud\",\n          onClick: () => this.dateClick(\"add\"),\n          children: \" Dodaj \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }, this);else if (this.props.typ === \"update\") return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"bg-light\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          name: \"id\",\n          defaultValue: this.props.id,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          placeholder: \"Nazwa\",\n          defaultValue: this.state.mag.nmag,\n          name: \"nMag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"select\",\n          name: \"idAd\",\n          children: this.state.adres.map(element => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: element.idAd,\n            children: [element.ulica, \" \", element.bud, \" \", element.mej, \" \", element.kraj]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          placeholder: \"Kierownik magazynu\",\n          defaultValue: this.state.mag.kmag,\n          name: \"kMag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          placeholder: \"Telefon\",\n          defaultValue: this.state.mag.tmag,\n          name: \"tMag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-info\",\n          type: \"submit\",\n          className: \"magcud\",\n          onClick: () => this.dateClick(\"update\"),\n          children: \" Ok \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }, this);else if (this.props.typ === \"delete\") return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"bg-light\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          name: \"id\",\n          defaultValue: this.props.id,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        colSpan: 5,\n        className: \"text-danger\",\n        children: \" Czy na pewno chcesz usun\\u0105\\u0107 magazyn?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-info\",\n          type: \"submit\",\n          className: \"magcud\",\n          onClick: () => this.dateClick(\"delete\"),\n          children: \" Ok \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default MagazynCud;","map":{"version":3,"sources":["C:/Users/48883/IdeaProjects/magazyn2/src/Components/Magazyn/MagazynCud.js"],"names":["React","Component","Button","Form","axios","MagazynCud","constructor","props","state","adres","stan","mag","dateClick","typ","bodyFormData","FormData","append","localStorage","getItem","id","Date","toLocaleString","method","url","data","then","response","setState","doks","catch","error","console","log","componentDidMount","render","map","element","idMag","tow","ntow","serTow","ilTow","idAd","ulica","bud","mej","kraj","nmag","kmag","tmag"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Form} from \"react-bootstrap\";\r\nimport axios from 'axios';\r\n\r\nclass MagazynCud extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            adres : [],\r\n            stan : [],\r\n            mag :{}\r\n        };\r\n    }\r\n    dateClick(typ) {\r\n        var bodyFormData = new FormData();\r\n        bodyFormData.append('idPrac', localStorage.getItem('loginfo'));\r\n        bodyFormData.append('rod', 'magazyn');\r\n        bodyFormData.append('idRod', this.props.id);\r\n        bodyFormData.append('typ', typ);\r\n        bodyFormData.append('dat', new Date().toLocaleString());\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://localhost:8081/history/add',\r\n            data: bodyFormData\r\n        }) .then((response) => {\r\n            this.setState({doks: response.data})\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        axios({\r\n            method: 'get',\r\n            url: `http://localhost:8081/mag/${this.props.id}`,\r\n        }).then((response) => {\r\n            this.setState({mag: response.data})\r\n            console.log(response.data)\r\n\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n        axios({\r\n            method: 'get',\r\n            url: `http://localhost:8081/adres/all`,\r\n        }).then((response) => {\r\n            this.setState({adres: response.data})\r\n            console.log(response.data)\r\n\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: `http://localhost:8081/stanmag/all`,\r\n        }).then((response) => {\r\n            this.setState({stan: response.data})\r\n            console.log(response.data)\r\n\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n    }\r\n    render() {\r\n     if(this.props.typ === \"details\")\r\n            return (\r\n                <>\r\n                    <tr className=\"bg-light\">\r\n\r\n                        <th> </th>\r\n                        <th> Towar </th>\r\n                        <th> Numer serijny</th>\r\n                        <th> Ilosc </th>\r\n                        <th></th>\r\n\r\n                    </tr>\r\n                    {\r\n                        this.state.stan.map((element: any) => (\r\n                            this.props.id === element.idMag ?\r\n                                <tr className=\"bg-light\">\r\n                                    <td></td>\r\n                                    <td>{element.tow.ntow}</td>\r\n                                    <td>{element.serTow}</td>\r\n                                    <td>{element.ilTow}</td>\r\n                                    <td></td>\r\n                                </tr>\r\n                                : ''\r\n\r\n                        ) )\r\n                    }\r\n                </>\r\n            );\r\n        else if(this.props.typ === \"add\")\r\n            return (\r\n                <tr className=\"bg-light\">\r\n                    <td></td>\r\n                    <td><Form.Control as=\"input\" placeholder=\"Nazwa\" name=\"nMag\" /></td>\r\n                    <td>\r\n                        <Form.Control as=\"select\"  name=\"idAd\">\r\n                            {\r\n                                this.state.adres.map((element: any) => (\r\n                                    <option value={element.idAd}>{element.ulica} {element.bud} {element.mej} {element.kraj}</option>\r\n                                ))\r\n                            }\r\n                        </Form.Control>\r\n                    </td>\r\n                    <td><Form.Control as=\"input\" placeholder=\"Kierownik magazynu\" name=\"kMag\"/></td>\r\n                    <td><Form.Control as=\"input\" placeholder=\"Telefon\" name=\"tMag\"/></td>\r\n                    <td><Button variant=\"outline-info\" type=\"submit\" className=\"magcud\" onClick={() => this.dateClick(\"add\")}> Dodaj </Button></td>\r\n                </tr>\r\n            );\r\n        else if(this.props.typ === \"update\")\r\n            return (\r\n                <tr className=\"bg-light\">\r\n                    <td><Form.Control as=\"input\" name=\"id\" defaultValue={this.props.id}  readOnly  /></td>\r\n                    <td><Form.Control as=\"input\" placeholder=\"Nazwa\" defaultValue={this.state.mag.nmag}  name=\"nMag\" /></td>\r\n                    <td>\r\n                        <Form.Control as=\"select\"  name=\"idAd\">\r\n                            {\r\n                                this.state.adres.map((element: any) => (\r\n                                    <option value={element.idAd}>{element.ulica} {element.bud} {element.mej} {element.kraj}</option>\r\n                                ))\r\n                            }\r\n                        </Form.Control>\r\n                    </td>\r\n                    <td><Form.Control as=\"input\" placeholder=\"Kierownik magazynu\" defaultValue={this.state.mag.kmag}  name=\"kMag\"/></td>\r\n                    <td><Form.Control as=\"input\" placeholder=\"Telefon\" defaultValue={this.state.mag.tmag}  name=\"tMag\"/></td>\r\n                    <td><Button variant=\"outline-info\" type=\"submit\"  className=\"magcud\" onClick={() => this.dateClick(\"update\")}> Ok </Button></td>\r\n                    </tr>\r\n            );\r\n        else if(this.props.typ === \"delete\")\r\n            return (\r\n                <tr className=\"bg-light\">\r\n                    <td><Form.Control as=\"input\" name=\"id\" defaultValue={this.props.id}  readOnly  /></td>\r\n                    <td colSpan={5} className=\"text-danger\"> Czy na pewno chcesz usunąć magazyn?</td>\r\n                    <td><Button variant=\"outline-info\" type=\"submit\" className=\"magcud\" onClick={() => this.dateClick(\"delete\")}> Ok </Button></td>\r\n                </tr>\r\n            );\r\n    }\r\n}\r\n\r\nexport default MagazynCud;"]},"metadata":{},"sourceType":"module"}