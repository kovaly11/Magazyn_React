{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\48883\\\\IdeaProjects\\\\magazyn2\\\\src\\\\Components\\\\Dokumenty\\\\DokumentyCud.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Table } from \"react-bootstrap\";\nimport axios from 'axios';\nimport PozycjaCud from '../Dokumenty/PozycjaCud';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass DokumentyCud extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      doks: [],\n      doki: [],\n      dok: {},\n      mag: []\n    };\n  }\n\n  pozycjaClick(id, typ) {\n    this.setState({\n      idClick: id\n    });\n    this.setState({\n      typ: typ\n    });\n    this.setState({\n      render: !this.state.render\n    });\n  }\n\n  dateClick(typ) {\n    var bodyFormData = new FormData();\n    bodyFormData.append('idPrac', localStorage.getItem('loginfo'));\n    bodyFormData.append('rod', 'dokumenty');\n    bodyFormData.append('idRod', this.props.id);\n    bodyFormData.append('typ', typ);\n    bodyFormData.append('dat', new Date().toLocaleString());\n    axios({\n      method: 'post',\n      url: 'http://localhost:8081/history/add',\n      data: bodyFormData\n    }).then(response => {\n      this.setState({\n        doks: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    axios({\n      method: 'get',\n      url: `http://localhost:8081/dok/${this.props.id}`\n    }).then(response => {\n      this.setState({\n        dok: response.data\n      });\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    axios({\n      method: 'get',\n      url: `http://localhost:8081/doki/${this.props.id}`\n    }).then(response => {\n      this.setState({\n        doki: response.data\n      });\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    axios({\n      method: 'get',\n      url: `http://localhost:8081/doks/all`\n    }).then(response => {\n      this.setState({\n        doks: response.data\n      });\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    axios({\n      method: 'get',\n      url: 'http://localhost:8081/mag/all'\n    }).then(response => {\n      this.setState({\n        mag: response.data\n      });\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    if (this.props.typ === \"details\") return /*#__PURE__*/_jsxDEV(Form, {\n      action: \"http://localhost:8081/doki/\" + this.state.typ,\n      method: \"post\",\n      className: \"pozcud\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"bg-light\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" No \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Towar \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Numer serijny\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Ilosc \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              colSpan: 2,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-info\",\n                onClick: () => this.pozycjaClick(-1, \"add\"),\n                children: \"Dodaj Pozycje\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [this.state.typ === \"add\" ? this.state.render && /*#__PURE__*/_jsxDEV(PozycjaCud, {\n            typ: this.state.typ,\n            id: this.props.id,\n            mag: this.state.dok.mag.nmag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 65\n          }, this) : '', this.state.doki.map(element => this.props.id === element.idDok ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-light\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: element.lpoz\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: element.tow.ntow\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: element.serTow\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: element.ilTow\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-info\",\n                  onClick: () => this.pozycjaClick(element.lpoz, \"update\"),\n                  children: \"Edytuj\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-info\",\n                  onClick: () => this.pozycjaClick(element.lpoz, \"delete\"),\n                  children: \"Usun\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this), this.state.idClick === element.lpoz && this.state.typ === \"update\" ? this.state.render && /*#__PURE__*/_jsxDEV(PozycjaCud, {\n              id: this.props.id,\n              poz: element.lpoz,\n              typ: \"update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 37\n            }, this) : '', this.state.idClick === element.lpoz && this.state.typ === \"delete\" ? this.state.render && /*#__PURE__*/_jsxDEV(PozycjaCud, {\n              id: this.props.id,\n              poz: element.lpoz,\n              typ: \"delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 37\n            }, this) : '']\n          }, void 0, true) : '')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this);else if (this.props.typ === \"add\") return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"bg-light\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"select\",\n          name: \"idMag\",\n          children: this.state.mag.map(element => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: element.idMag,\n            children: element.nmag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"select\",\n          name: \"tDok\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"PT\",\n            children: \"Przyj\\u0119cie towaru\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"RT\",\n            children: \"Rozch\\xF3d towaru\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"IN\",\n            children: \"Inwentaryzacja \\u2013 niedob\\xF3r\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"IW\",\n            children: \"Inwentaryzacja - nadmiar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"PR\",\n            children: \"Przesuni\\u0119cie mi\\u0119dzymagazynow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          placeholder: \"Firma\",\n          name: \"idF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"datetime-local\",\n          placeholder: \"Enter Data\",\n          name: \"data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-info\",\n          type: \"submit\",\n          className: \"dokscud\",\n          onClick: () => this.dateClick(\"add\"),\n          children: \" Dodaj \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }, this);else if (this.props.typ === \"delete\") return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"bg-light\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          name: \"id\",\n          defaultValue: this.props.id,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        colSpan: 5,\n        className: \"text-danger\",\n        children: \" Czy na pewno chcesz usun\\u0105\\u0107 dokument?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-info\",\n          type: \"submit\",\n          className: \"magcud\",\n          onClick: () => this.dateClick(\"delete\"),\n          children: \" Ok \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }, this);else return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.props.typ\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default DokumentyCud;","map":{"version":3,"sources":["C:/Users/48883/IdeaProjects/magazyn2/src/Components/Dokumenty/DokumentyCud.js"],"names":["React","Component","Button","Form","Table","axios","PozycjaCud","DokumentyCud","constructor","props","state","doks","doki","dok","mag","pozycjaClick","id","typ","setState","idClick","render","dateClick","bodyFormData","FormData","append","localStorage","getItem","Date","toLocaleString","method","url","data","then","response","catch","error","console","log","componentDidMount","nmag","map","element","idDok","lpoz","tow","ntow","serTow","ilTow","idMag"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Form, Table} from \"react-bootstrap\";\r\nimport axios from 'axios';\r\nimport PozycjaCud from '../Dokumenty/PozycjaCud'\r\n\r\nclass DokumentyCud extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            doks : [],\r\n            doki : [],\r\n            dok :{},\r\n            mag:[]\r\n        };\r\n    }\r\n    pozycjaClick(id, typ)\r\n    {\r\n        this.setState({idClick: id});\r\n        this.setState({typ: typ});\r\n        this.setState({render : !this.state.render});\r\n    }\r\n    dateClick(typ) {\r\n        var bodyFormData = new FormData();\r\n        bodyFormData.append('idPrac', localStorage.getItem('loginfo'));\r\n        bodyFormData.append('rod', 'dokumenty');\r\n        bodyFormData.append('idRod', this.props.id);\r\n        bodyFormData.append('typ', typ);\r\n        bodyFormData.append('dat', new Date().toLocaleString());\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://localhost:8081/history/add',\r\n            data: bodyFormData\r\n        }) .then((response) => {\r\n            this.setState({doks: response.data})\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        axios({\r\n            method: 'get',\r\n            url: `http://localhost:8081/dok/${this.props.id}`,\r\n        }).then((response) => {\r\n            this.setState({dok: response.data})\r\n            console.log(response.data)\r\n\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n        axios({\r\n            method: 'get',\r\n            url: `http://localhost:8081/doki/${this.props.id}`,\r\n        }).then((response) => {\r\n            this.setState({doki: response.data})\r\n            console.log(response.data)\r\n\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: `http://localhost:8081/doks/all`,\r\n        }).then((response) => {\r\n            this.setState({doks: response.data})\r\n            console.log(response.data)\r\n\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n        axios({\r\n            method: 'get',\r\n            url: 'http://localhost:8081/mag/all',\r\n        }).then((response) => {\r\n            this.setState({mag: response.data})\r\n            console.log(response.data)\r\n\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n    }\r\n    render() {\r\n        if(this.props.typ === \"details\")\r\n        return (\r\n            <Form action={\"http://localhost:8081/doki/\"+this.state.typ} method=\"post\" className=\"pozcud\">\r\n            <Table>\r\n                <thead>\r\n                <tr className=\"bg-light\">\r\n\r\n                    <th> </th>\r\n                    <th> No </th>\r\n                    <th> Towar </th>\r\n                    <th> Numer serijny</th>\r\n                    <th> Ilosc </th>\r\n                    <th colSpan={2}><Button variant=\"outline-info\" onClick={() => this.pozycjaClick(-1, \"add\")}>Dodaj Pozycje</Button></th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                { this.state.typ===\"add\" ? this.state.render && <PozycjaCud typ={this.state.typ} id={this.props.id} mag={this.state.dok.mag.nmag}/> : '' }\r\n                {\r\n                    this.state.doki.map((element: any) => (\r\n                        this.props.id === element.idDok ?\r\n                            <>\r\n                            <tr className=\"bg-light\">\r\n                                <td></td>\r\n                                <td>{element.lpoz}</td>\r\n                                <td>{element.tow.ntow}</td>\r\n                                <td>{element.serTow}</td>\r\n                                <td>{element.ilTow}</td>\r\n                                <td><Button variant=\"outline-info\" onClick={() => this.pozycjaClick(element.lpoz, \"update\")}>Edytuj</Button></td>\r\n                                <td><Button variant=\"outline-info\" onClick={() => this.pozycjaClick(element.lpoz, \"delete\")}>Usun</Button></td>\r\n                            </tr>\r\n                                {this.state.idClick === element.lpoz && this.state.typ === \"update\" ? this.state.render &&\r\n                                    <PozycjaCud id={this.props.id} poz={element.lpoz} typ={\"update\"}/> : ''}\r\n                                {this.state.idClick === element.lpoz && this.state.typ === \"delete\" ? this.state.render &&\r\n                                    <PozycjaCud id={this.props.id} poz={element.lpoz} typ={\"delete\"}/> : ''}\r\n                            </>\r\n                            : ''\r\n\r\n                    ) )\r\n                }\r\n                </tbody>\r\n            </Table>\r\n            </Form>\r\n        );\r\n        else if(this.props.typ === \"add\")\r\n            return (\r\n                <tr className=\"bg-light\">\r\n                    <td></td>\r\n                    <td>\r\n                        <Form.Control as=\"select\"  name=\"idMag\">\r\n                            {\r\n                                this.state.mag.map((element: any) => (\r\n                                    <option value={element.idMag}>{element.nmag}</option>\r\n                                ))\r\n                            }\r\n                        </Form.Control>\r\n                    </td>\r\n                    <td>\r\n                    <Form.Control as=\"select\"  name=\"tDok\">\r\n                        <option value={\"PT\"}>Przyjęcie towaru</option>\r\n                        <option value={\"RT\"}>Rozchód towaru</option>\r\n                        <option value={\"IN\"}>Inwentaryzacja – niedobór</option>\r\n                        <option value={\"IW\"}>Inwentaryzacja - nadmiar</option>\r\n                        <option value={\"PR\"}>Przesunięcie międzymagazynow</option>\r\n\r\n                    </Form.Control>\r\n                    </td>\r\n                    <td><Form.Control as=\"input\" placeholder=\"Firma\" name=\"idF\"/></td>\r\n                    <td><Form.Control type=\"datetime-local\" placeholder=\"Enter Data\" name=\"data\" /></td>\r\n                    <td><Button variant=\"outline-info\" type=\"submit\" className=\"dokscud\" onClick={() => this.dateClick(\"add\")}> Dodaj </Button></td>\r\n                </tr>\r\n            );\r\n        else if(this.props.typ === \"delete\")\r\n            return (\r\n                <tr className=\"bg-light\">\r\n                    <td><Form.Control as=\"input\" name=\"id\" defaultValue={this.props.id}  readOnly  /></td>\r\n                    <td colSpan={5} className=\"text-danger\"> Czy na pewno chcesz usunąć dokument?</td>\r\n                    <td><Button variant=\"outline-info\" type=\"submit\" className=\"magcud\" onClick={() => this.dateClick(\"delete\")}> Ok </Button></td>\r\n                </tr>\r\n            );\r\n        else\r\n        return (\r\n            <div>\r\n                {this.props.typ}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DokumentyCud;"]},"metadata":{},"sourceType":"module"}